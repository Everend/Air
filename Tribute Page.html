<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Tribute Page</title>
		<link rel="stylesheet"type="text/css"href="css/tp.css">
		<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/exif-js"></script>
		<script>
			function foo(){
				var $input = $('input'),
				    $span = $('span'),
					$canvas = $('canvas'),
					context = $canvas[0].getContext('2d'),
					file = $input[0].files[0];
				var reader = new FileReader();
				reader.readAsDataURL(file);
				reader.onload = function(){
					var $image = $('<img>');
					$image.attr('src', this.result);
					$('body').append($image);
					//image.load(function(){
					//	context.clearRect(0, 0, this.width, this.height);
					//	context.drawImage(img, 0, 0);
					//	var data = canvas.toDataURL('image/jpeg');
					//});
					$image.load(function(){
						EXIF.getData($image[0], function(){
							var x = EXIF.getTag(this, 'Orientation');
							x === undefined && (x = 'undefined');
							$span.text(x);
						});	     
					});
			 	}
			}
			$(function(){
				
			});
		</script>
	</head>
	<body>
		<input type="file" onchange="foo();">
		<canvas style="background:gainsboro;"></canvas>
		<p>Orientation:<span></span></p>
	</body>
</html>
